<div th:fragment="editFeedModal" id="edit-feed-modal"
     class="fixed inset-0 z-50  items-center justify-center bg-black bg-opacity-50 px-4 py-6" th:classappend="${showEditFeedModal?'flex':'hidden'}">
    <div class="bg-white rounded-2xl shadow-lg w-full max-w-2xl p-6 relative">
        <!-- Close Button -->
        <button type="button"
                class="absolute top-3 right-3 text-gray-400 hover:text-gray-600"
                onclick="closeEditFeedModal()">
            âœ•
        </button>
        <!-- Logo / Header -->
        <a class="flex items-center gap-3 mb-6" th:href="@{/home}">
            <span class="inline-flex h-12 w-12 items-center justify-center rounded-full
                        bg-gradient-to-br from-primary-500 to-primary-700
                         text-white font-extrabold text-lg shadow-md transform transition hover:scale-110">
                GS
            </span>
            <span class="text-2xl font-bold text-indigo-900 drop-shadow-sm">Global Sphere</span>
        </a>

        <h2 class="text-xl font-semibold mb-4">Edit Post</h2>
        <!-- Edit Feed Form -->
        <form th:action="@{/dashboard/feeds/update}" method="post"
              th:object="${updateFeedAdmin}" class="space-y-4"
              enctype="multipart/form-data">
            <!-- Post Content -->
            <input hidden th:field="*{id}">
            <label class="block">
                <span class="text-gray-700">Content</span>
                <textarea th:field="*{content}" rows="4"
                          class="w-full p-2 border rounded"></textarea>
                <p class="text-red-600 text-sm"
                   th:if="${#fields.hasErrors('content')}"
                   th:errors="*{content}"></p>
            </label>

            <!-- Code Snippet -->
            <label class="block">
                <span class="text-gray-700">Code Snippet (optional)</span>
                <textarea th:field="*{codeSnippet}" rows="4"
                          class="w-full p-2 border rounded"></textarea>
                <p class="text-red-600 text-sm"
                   th:if="${#fields.hasErrors('codeSnippet')}"
                   th:errors="*{codeSnippet}"></p>
            </label>

            <!-- External Link -->
            <label class="block">
                <span class="text-gray-700">External Link (optional)</span>
                <input type="text" th:field="*{link}" class="w-full p-2 border rounded">
                <p class="text-red-600 text-sm" th:if="${#fields.hasErrors('link')}" th:errors="*{link}"></p>
            </label>

            <!-- File Upload -->
            <div>
                <button class="rounded-xl border border-gray-200 px-3 py-1.5 text-sm hover:bg-gray-50" type="button" id="uploadFileBtn-edit">
                    Upload file
                </button>
                <input class="hidden" id="fileInput-edit" th:field="*{file}" type="file" accept="image/*"/>
                <p class="text-red-500 text-sm mt-1" th:errors="*{file}" th:if="${#fields.hasErrors('file')}"></p>
            </div>

            <!-- Buttons -->
            <div class="flex justify-end gap-2">
                <button type="button" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400" onclick="closeEditFeedModal()">Cancel
                </button>
                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                    Update Feed
                </button>
            </div>
        </form>
    </div>
</div>

