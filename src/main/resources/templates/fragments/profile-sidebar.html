<aside class="lg:col-span-3 space-y-6" th:fragment="sidebar">
    <section class="rounded-2xl border bg-white p-5 shadow-sm">
        <div class="flex items-center gap-4">
            <img
                    alt="Your avatar"
                    class="h-14 w-14 rounded-full"
                    th:src="${currentUser != null and currentUser.avatar != null} ? @{/user/image} : @{/assets/blank.jpg}"
            />

            <div>
                <h3 class="font-semibold" th:text="${currentUser?.name ?: 'Alex Doe'}">Alex Doe</h3>
                <p class="text-sm text-gray-500" th:text="${currentUser?.bio ?: 'Computer Science • Spring MVC'}">
                    Computer Science • Spring MVC
                </p>
            </div>
        </div>

        <!-- Counters as clickable buttons -->
        <div class="mt-4 grid grid-cols-3 text-center text-sm">
            <button type="button"  id="followers-id-profile" class="flex flex-col items-center focus:outline-none">
                <div class="font-semibold" th:text="${currentUser?.followersCount ?: 0}">0</div>
                <div class="text-gray-500" >Followers</div>
            </button>

            <button  id="following-id-profile" type="button" class="flex flex-col items-center focus:outline-none">
                <div class="font-semibold" th:text="${currentUser?.followingCount ?: 0}">0</div>
                <div class="text-gray-500" >Following
                </div>
            </button>

            <div>
                <div class="font-semibold" th:text="${currentUser?.postsCount ?: 0}">0</div>
                <div class="text-gray-500">Posts</div>
            </div>
        </div>

        <!-- Edit / Share buttons -->
        <div class="mt-4 flex gap-2">
            <button class="flex-1 rounded-xl bg-gray-900 px-4 py-2 text-sm font-semibold text-white hover:bg-black" data-open="edit-profile">
                Edit profile
            </button>
            <button class="flex-1 rounded-xl border border-gray-200 px-4 py-2 text-sm font-semibold hover:bg-gray-50" data-open="share-profile">
                Share
            </button>
        </div>
    </section>

    <!-- Include the Followers/Following modal -->
    <div th:replace="~{/fragments/modals/follow-followers :: followModal(${currentUser})}"></div>
</aside>
