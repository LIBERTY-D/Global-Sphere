<section class="rounded-2xl border bg-white p-5 shadow-sm" id="discuss"
         th:fragment="discussion-post">
    <h4 class="mb-3 text-sm font-semibold text-gray-700">Start a discussion</h4>

    <form th:action="@{/discussions/add}" th:object="${createDiscussionForm}" method="post" id="discussionForm">
        <textarea th:field="*{text}"
                  id="discussionText"
                  class="w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-2.5 text-sm focus:border-primary-500 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary-500/20"
                  placeholder="Ask a question or share a tip..."
                  rows="3"></textarea>
        <p th:if="${#fields.hasErrors('text')}" th:errors="*{text}" class="text-red-500 text-sm mt-1"></p>

        <!-- Preview area -->
        <div id="discussionPreview" class="mt-3 hidden rounded-xl border border-gray-200 bg-gray-50 p-3 text-sm text-gray-700 whitespace-pre-wrap"></div>

        <div class="mt-3 flex justify-end gap-2">
            <button type="button" id="previewBtn"
                    class="rounded-xl border border-gray-200 px-4 py-2 text-sm hover:bg-gray-50">
                Preview
            </button>
            <button type="submit"
                    class="rounded-xl bg-primary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-700">
                Post
            </button>
        </div>
    </form>
</section>
